**一次镜像，处处运行**
# 一、解决的问题（搬家=》搬楼）

1. 环境不一致，安装费时，不能跨平台
2. 安装繁琐
3. 不支持扩容、缩容

总结：解决了运行环境和配置问题的软件容器，方便做持续集成并有助于做整体发布的容器虚拟化技术
# 二、容器与虚拟机比较

1. 虚拟机：资源占用多、冗余步骤多、启动慢
2. docker：轻量级、启动快
# 三、docker作用

1. 更快速的应用交付与部署
2. 更便捷的升级与扩容缩容
3. 更简单的系统运维
4. 更高效的计算资源利用
# 四、镜像分层

1. 分层
2. 联合文件系统
# 五、数据卷
ps：以下脚本中ubuntu是在使用ubuntu的镜像

1. 特点
   1. 数据卷可以在容器之间共享或重用数据
   2. 卷中的更改是实时的
   3. 数据卷的更改不会包含在镜像的更新中
   4. 数据卷的生命周期一直持续到没有容器使用它为止
2. 容器与宿主机之间的数据共享
   1. docker修改，主机同步
   2. 主机修改，docker同步
   3. docker容器停掉，主机修改，docker重启之后数据同步
3. 限制容器内部只能读不能写
```shell
docker run -it --privileged=true -v /tmp/host_data:/tmp/docker_data:ro ubuntu
```
ro 表示 readonly ，宿主机可读可写，容器内可读不可写

3. 卷的继承和共享
```shell
docker run -it --privileged=true --volumes-from 父容器 --name 新建的容器名 ubuntu
```
继承的是卷挂在的规则
